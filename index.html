<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html" charset="utf-8" />
    <title>Don't Touch Your Face</title>

    <script src="src/index.ts"></script>

    <style>
      body {
        background-color: #586e75;
        color: #fdf6e3;
        font-family: Helvetica, sans-serif;
        font-size: 1.3em;
        position: relative;
        text-align: center;
      }

      a {
        color: #d5d5ee;
        font-weight: bold;
        text-decoration: none;
      }

      body.touching {
        background-color: #cb4b16;
        color: white;
      }

      #header {
        padding-top: 20px;
      }

      #high-score {
        font-size: 1.5em;
        margin-bottom: 2em;
      }

      #high-score-time {
        font-weight: bold;
      }

      #high-score .celebration {
        display: none;
      }

      #high-score.winning .celebration {
        display: inline;
      }

      #webcam {
        height: 480px;
        width: 640px;
      }

      #debug-panel {
        position: absolute;
        left: 4%;
        top: 200px;
        text-align: left;
      }

      #debug-panel h2 {
        text-align: center;
      }

      #debug-panel span {
        font-weight: bold;
      }

      #start {
        font-size: 1.5em;
        width: 200px;
        height: 60px;
      }

      #safari-warning {
        background-color: #cb4b16;
        text-align: center;
        margin: auto;
        margin-bottom: 40px;
        margin-top: 40px;

        max-width: 1800px;
      }
    </style>
  </head>
  <body>
    <h1 id="header">Don't Touch Your Face</h1>

    <div id="debug-panel">
      <h2>Debug</h2>
      <div>Touching Face: <span id="chance-touching">0%</span></div>
      <div>Not Touching Face: <span id="chance-not-touching">0%</span></div>
    </div>

    <div id="instructions">
      <p>
        Touching your face makes it more likely you'll contract COVID-19! <br />
        Break the habit by letting us honk at you when you touch your face.
      </p>

      <p id="safari-warning" hidden="true">
        It looks like you're using Safari! If you're not hearing any audio,
        select the "Safari" menu, then "Settings for This Website". Set the
        "Auto-Play" dropdown to "Allow All Auto-Play"
        <a href="#" id="close-safari" role="button">[x]</a>
      </p>

      <button id="start">Start</button>
    </div>
    <video id="webcam"></video>
    <h1>
      It has been <span id="time">0:00</span> since you last touched your face
    </h1>
    <div id="high-score">
      <span class="celebration">ðŸŽ‰</span>
      Your record is <span id="high-score-time">0:00</span>
      <span class="celebration">ðŸŽ‰</span>
    </div>

    <div>
      Built by <a href="https://twitter.com/lazerwalker">@lazerwalker</a> with
      the
      <a
        href="https://docs.microsoft.com/en-us/azure/cognitive-services/custom-vision-service/getting-started-build-a-classifier?"
        >Azure Custom Vision Service</a
      >.

      <p>
        All processing happens in your web browser.<br />Your webcam data does
        not leave your computer.
      </p>
      <p>
        Not working very well? You can help improve quality by
        <a href="http://facetoucherstorage.z5.web.core.windows.net"
          >providing some training data</a
        >! (takes ~2 minutes)
      </p>
    </div>
  </body>
</html>
